<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Matte Helper - LÃ¤xhjÃ¤lpen</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="tools-panel.css" />
</head>

<body>
  <main class="container">
    <h1>Matte helper - LÃ¤xhjÃ¤lpen </h1>
    <p>Denna sida Ã¤r tillfÃ¶r lÃ¤xor och fÃ¶r att hjÃ¤lpa dig lÃ¶sa lÃ¤xor, finns Ã¤ven Ã¶vningar att trÃ¤na pÃ¥!</p>

    <section class="card">
      <label>NivÃ¥</label>
      <select id="level">
        <option>Grundskola Ã¥k 1â€“3</option>
        <option>Grundskola Ã¥k 4â€“6</option>
        <option>Grundskola Ã¥k 7â€“9</option>
        <option>Gymnasiet Matte 1</option>
        <option>Gymnasiet Matte 2</option>
        <option>Gymnasiet Matte 3</option>
        <option>Gymnasiet Matte 4</option>
        <option>Gymnasiet Matte 5</option>
      </select>

      <label>AI-lÃ¤ge</label>
      <select id="mode">
        <option value="simplify">FÃ¶renkla uppgiften</option>
        <option value="hint">Ge en hint</option>
        <option value="check">Kolla mitt fÃ¶rsÃ¶k</option>
      </select>

      <label>Uppgift</label>
      <textarea id="problem" rows="5" placeholder="Skriv in matteuppgiften..."></textarea>

      <label>Ditt fÃ¶rsÃ¶k (valfritt)</label>
      <textarea id="attempt" rows="4" placeholder="Skriv hur du fÃ¶rsÃ¶kte lÃ¶sa den..."></textarea>

      <button id="askBtn" type="button">FrÃ¥ga AI</button>
    </section>

    <a href="practice.html"><button type="button">Ã–va pÃ¥ uppgifter</button></a>

    <section class="card">
      <h2>Svar</h2>
      <pre id="answer" class="answer"></pre>
    </section>
  </main>

  <!-- ===== TOOLS / WHITEBOARD PANEL ===== -->
  <button class="tm-tools-btn tm-left" id="tmOpenLeft" type="button" title="Verktyg">ğŸ§°</button>
  <button class="tm-tools-btn tm-right" id="tmOpenRight" type="button" title="Whiteboard">âœï¸</button>

  <aside class="tm-panel tm-left" id="tmPanelLeft" aria-hidden="true">
    <div class="tm-panel-header">
      <strong>Verktyg</strong>
      <button class="tm-close" id="tmCloseLeft" type="button">âœ•</button>
    </div>

    <div class="tm-panel-body">
      <div class="tm-tool-card">
        <h3 style="margin:0 0 8px 0;">Tips</h3>
        <p style="margin:0; opacity:0.9;">graf kommer vara hÃ¤r senare.</p>
      </div>

      <div class="tm-tool-card" style="margin-top:12px;">
        <h3 style="margin:0 0 8px 0;">Verktyg</h3>
        <button class="tm-small" id="calcOpen" type="button">Ã–ppna minirÃ¤knare</button>
        <button class="tm-small" id="graphOpen" type="button">Graf</button>
      </div>
    </div>
  </aside>

  <aside class="tm-panel tm-right" id="tmPanelRight" aria-hidden="true">
    <div class="tm-panel-header">
      <strong>Whiteboard</strong>
      <button class="tm-close" id="tmCloseRight" type="button">âœ•</button>
    </div>

    <div class="tm-panel-body">
      <div class="tm-row">
        <label class="tm-label">Verktyg</label>
        <div class="tm-row">
          <button class="tm-tool-btn" id="tmPenBtn" type="button" title="Penna">âœï¸</button>
          <button class="tm-tool-btn" id="tmEraserBtn" type="button" title="Suddgummi">ğŸ©¹</button>
          <button class="tm-tool-btn" id="tmClearBtn" type="button" title="Rensa whiteboard">ğŸ—‘ï¸</button>
        </div>
      </div>

      <div class="tm-row">
        <label class="tm-label" for="tmSize">Storlek</label>
        <input id="tmSize" type="range" min="2" max="28" value="10" />
      </div>

      <div class="tm-row">
        <label class="tm-label" for="tmColor">FÃ¤rg</label>
        <input id="tmColor" type="color" value="#ffffff" />
      </div>

      <div class="tm-board-wrap">
        <canvas id="tmCanvas" width="900" height="900"></canvas>
      </div>

      <div class="tm-row" style="justify-content: space-between;">
        <button class="tm-small" id="tmSave" type="button">Spara Whiteboard</button>
        <span id="tmStatus" style="opacity:0.8; font-size: 13px;"></span>
      </div>
    </div>
  </aside>

  <div class="tm-backdrop" id="tmBackdrop" hidden></div>

  <!-- ==== Graph Window ==== -->
   <div id="graphWindow" class="graph-window" hidden>
    <div id="graphHeader" class="graph-header">
      <span>Graf</span>
    </div>

    <div class="graph-body">
      <div class="graph-controls">
        <input id="graphInput" class="graph-input" placeholder="Skriv t.ex. y = x^2 eller sin(x)"/>
        <button id="graphAdd" class="graph-btn">LÃ¤gg till</button>
        <button id="grapthClear" class="grapth-btn">Rensa</button>
      </div>

      <div id="graphList" class="graph-list"></div>

      <div id="plot" class="plot"></div>
    </div>
   </div>

  <!-- ===== CALCULATOR WINDOW ===== -->
  <div id="calcWindow" class="calc-window" hidden>
    <div id="calcHeader" class="calc-header">
      <span>MinirÃ¤knare</span>
    </div>

    <div class="calc-body">
      <div class="calc-display-wrap">
        <input id="calcDisplay" class="calc-display" inputmode="none" autocomplete="off" spellcheck="false" />
        <div id="calcHint" class="calc-hint">Klicka pÃ¥ rÃ¤knaren fÃ¶r att aktivera tangentbord</div>
      </div>

      <div class="calc-grid">
        <button data-k="AC">AC</button>
        <button data-k="DEL">DEL</button>
        <button data-k="(">(</button>
        <button data-k=")">)</button>
        <button data-k="/">Ã·</button>

        <button data-k="sin(">sin</button>
        <button data-k="cos(">cos</button>
        <button data-k="tan(">tan</button>
        <button data-k="sqrt(">âˆš</button>
        <button data-k="^">xÊ¸</button>

        <button data-k="7">7</button>
        <button data-k="8">8</button>
        <button data-k="9">9</button>
        <button data-k="*">Ã—</button>
        <button data-k="pi">Ï€</button>

        <button data-k="4">4</button>
        <button data-k="5">5</button>
        <button data-k="6">6</button>
        <button data-k="-">âˆ’</button>
        <button data-k="^2">xÂ²</button>

        <button data-k="1">1</button>
        <button data-k="2">2</button>
        <button data-k="3">3</button>
        <button data-k="+">+</button>
        <button data-k="%">%</button>

        <button data-k="0" class="span2">0</button>
        <button data-k=".">.</button>
        <button data-k="ANS">ANS</button>
        <button data-k="=" class="eq">=</button>
      </div>
    </div>
  </div>

  <!-- ===== SCRIPTS  ===== -->
  <script src="app.js"></script>
  <script src="tools-panel.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjs@11.11.2/lib/browser/math.js"></script>
  <script src="calculator.js"></script>
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjs@11.11.2/lib/browser/math.js"></script>
  <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
  <script src="graph.js"></script>
</body>
</html>
